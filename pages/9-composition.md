<style>
  .slidev-layout h1:not(.customTitleRow) {
    margin-bottom: 1rem;
  }
</style>

# 选项式到组合式

- 响应式 API：例如 `ref()` 和 `reactive()`，使我们可以直接创建响应式状态、计算属性和侦听器。

- 生命周期钩子：例如 `onMounted()` 和 `onUnmounted()`，使我们可以在组件各个生命周期阶段添加逻辑。

- 依赖注入：例如 `provide()` 和 `inject()`，使我们可以在使用响应式 API 时，利用 Vue 的依赖注入系统。

<div v-click>

Why?

- 更好的逻辑复用

- 更灵活的代码组织

</div>

<div v-click>

Why`<script setup>`?

- 更少的样板内容，更简洁的代码。
- 能够使用纯 TypeScript 声明 props 和自定义事件。
- 更好的运行时性能 (其模板会被编译成同一作用域内的渲染函数，避免了渲染上下文代理对象)。
- 更好的 IDE 类型推导性能 (减少了语言服务器从代码中抽取类型的工作)。

</div>

<!-- 组合式 API (Composition API) 是一系列 API 的集合，使我们可以使用函数而不是声明选项的方式书写 Vue 组件。它是一个概括性的术语，涵盖了以下方面的 API：

- 响应式 API。- 生命周期钩子。- 依赖注入。

那么为什么要有组合式 API？—— 1.更好的逻辑复用和2.更灵活的代码组织

第1点，在 Vue2 中使用 mixins 多了会有这样的痛点：组件中使用了一些方法和变量，但是在文件中找不到它们的声明，于是只能寻着 mixins 一个一个找，费时费力不说，还有可能在定义变量或方法时不经意覆盖了本不该覆盖的属性，而且这样让多个 mixins 隐形耦合在一起，不利于多处复用

`<script setup>`它具有更多优势：

- 更少的样板内容，更简洁的代码。
- 能够使用纯 TypeScript 声明 props 和自定义事件。
- 更好的运行时性能 (其模板会被编译成同一作用域内的渲染函数，避免了渲染上下文代理对象)。
- 更好的 IDE 类型推导性能 (减少了语言服务器从代码中抽取类型的工作)。 

-->